itensAutoLoot = {
["future orb"] = {12194, raridade = {40, 80, "Facil"} , 200},
["enchanted gem"] = {13785, raridade = {40, 80, "Facil"} , 300},
["small stone"] = {12337, raridade = {40, 80, "Facil"} , 50},
["stone orb"] = {12196, raridade = {40, 80, "Facil"} , 50},
["rock stone"] = {11445, raridade = {15, 35, "Medio"} , 10000},
["Old amber"] = {12581, raridade = {0.1, 1.0, "Extremamente Raro"} , 2000000},
["Bag Box"] = {12338, raridade = {2, 10, "Raro"} , 20000},
["twisted spoon"] = {12193, raridade = {40, 80, "Facil"} , 200},
["enigma stone"] = {11452, raridade = {15, 35, "Medio"} , 10000},
["bottles of poison"] = {12165, raridade = {40, 80, "Facil"} , 200},
["venom pendant"] = {12282, raridade = {40, 80, "Facil"} , 200},
["snake tail"] = {13863, raridade = {15, 35, "Medio"} , 200},
["venom stone"] = {11443, raridade = {15, 35, "Medio"} , 200},
["fire stone"] = {11447, raridade = {15, 35, "Medio"} , 200},
["magma box"] = {12271, raridade = {15, 35, "Medio"} , 200},
["pot with fire"] = {12342, raridade = {40, 80, "Facil"} , 200},
["pot of lava"] = {12152, raridade = {40, 80, "Facil"} , 200},
["nail"] = {12157, raridade = {40, 80, "Facil"} , 200},
["essence of fire"] = {12162, raridade = {40, 80, "Facil"} , 200},
["pot of moss bug"] = {12171, raridade = {40, 80, "Facil"} , 200},
["bug gosme"] = {13783, raridade = {40, 80, "Facil"} , 200},
["cocoon stone"] = {11448, raridade = {15, 35, "Medio"} , 200},
["seed"] = {12163, raridade = {40, 80, "Facil"} , 200},
["pair of leaves"] = {12155, raridade = {40, 80, "Facil"} , 200},
["bag of pollem"] = {12153, raridade = {40, 80, "Facil"} , 200},
["water gem"] = {12161, raridade = {40, 80, "Facil"} , 200},
["water pendant"] = {12170, raridade = {40, 80, "Facil"} , 200},
["Water Stone"] = {11442, raridade = {15, 35, "Medio"} , 200},
["bulbs"] = {12154, raridade = {40, 80, "Facil"} , 200},
["bug antenna"] = {12184, raridade = {40, 80, "Facil"} , 200},
["comb"] = {12179, raridade = {40, 80, "Facil"} , 200},
["heart stone"] = {11453, raridade = {15, 35, "Medio"} , 200},
["big egg"] = {12211, raridade = {40, 80, "Facil"} , 200},
["zard wing"] = {12270, raridade = {40, 80, "Facil"} , 200},
["dragon tooth"] = {12159, raridade = {40, 80, "Facil"} , 200},
["fire tail"] = {13892, raridade = {40, 80, "Facil"} , 200},
["topknot"] = {13901, raridade = {15, 35, "Medio"} , 200},
["ice orb"] = {12201, raridade = {40, 80, "Facil"} , 200},
["locksmith of shell"] = {12203, raridade = {40, 80, "Facil"} , 200},
["Snowball"] = {13794, raridade = {40, 80, "Facil"} , 200},
["Horn"] = {13789, raridade = {40, 80, "Facil"} , 200},
["ice stone"] = {11454, raridade = {15, 35, "Medio"} , 200},
["strange spikes"] = {13900, raridade = {40, 80, "Facil"} , 200},
["sandbag"] = {12177, raridade = {40, 80, "Facil"} , 200},
["bone"] = {12208, raridade = {40, 80, "Facil"} , 200},
["majesty wing"] = {12268, raridade = {40, 80, "Facil"} , 200},
["sea tail"] = {13898, raridade = {40, 80, "Facil"} , 200},
["feather"] = {12200, raridade = {40, 80, "Facil"} , 200},
["bird break"] = {12172, raridade = {40, 80, "Facil"} , 200},
["crystal stone"] = {11449, raridade = {15, 35, "Medio"} , 200},
["dragon tail"] = {12276, raridade = {40, 80, "Facil"} , 200},
["big wing"] = {12275, raridade = {40, 80, "Facil"} , 200},
["earth stone"] = {11451, raridade = {15, 35, "Medio"} , 200},
["screw"] = {12164, raridade = {40, 80, "Facil"} , 200},
["electric box"] = {12176, raridade = {40, 80, "Facil"} , 200},
["thunder stone"] = {11444, raridade = {15, 35, "Medio"} , 200},
["buzz tail"] = {12169, raridade = {40, 80, "Facil"} , 200},
["ancient stone"] = {12244, raridade = {2, 10, "Raro"} , 200},
["leaf stone"] = {11441, raridade = {15, 35, "Medio"} , 200},
["stick slash"] = {12199, raridade = {40, 80, "Facil"} , 200},
["traces of ghost"] = {12204, raridade = {40, 80, "Facil"} , 200},
["darkness gem"] = {12745, raridade = {40, 80, "Facil"} , 200},
["essence of dark"] = {12206, raridade = {40, 80, "Facil"} , 200},
["darkness stone"] = {11450, raridade = {15, 35, "Medio"} , 200},
["bat wing"] = {12182, raridade = {40, 80, "Facil"} , 200},
["tooth"] = {12175, raridade = {40, 80, "Facil"} , 200},
["strange rock"] = {13867, raridade = {40, 80, "Facil"} , 200},
["gosme"] = {12202, raridade = {40, 80, "Facil"} , 200},
["gyarados tail"] = {12148, raridade = {40, 80, "Facil"} , 200},
["punch stone"] = {11446, raridade = {15, 35, "Medio"} , 200},
["seahorse tail"] = {13864, raridade = {40, 80, "Facil"} , 200},
["ice bra"] = {12168, raridade = {40, 80, "Facil"} , 200},
["dome fossil"] = {12579, raridade = {2, 10, "Raro"} , 200},
["kangskhan war"] = {13888, raridade = {40, 80, "Facil"} , 200},
["pair of claws"] = {12269, raridade = {40, 80, "Facil"} , 200},
["venom flute"] = {12210, raridade = {40, 80, "Facil"} , 200},
["crab claws"] = {12207, raridade = {40, 80, "Facil"} , 200},
["dome fossil"] = {12579, raridade = {2, 10, "Raro"} , 200},
}

local storageUsing = storages.UsingAutoLoot
function doSaveItems(cid, items)
	setPlayerStorageValue(cid, storages.AutoLootList, items)
end

function doCollectAll(cid, col)
	setPlayerStorageValue(cid, storages.AutoLootCollectAll, col == true and "all" or "no")
end

function isCollectAll(cid)
   return getPlayerStorageValue(cid, storages.AutoLootCollectAll):find("all") and true or false
end
function getAllItensInMyList(cid)
	local myList = getPlayerStorageValue(cid, storages.AutoLootList)
	if myList == -1 or myList == "save/" or myList == "load/" or type(myList) ~= "string" then return {} end
	return myList:explode("/")[2]:explode(",")
end

function getAllItensInMyListToClient(cid)
	local myList = getAllItensInMyList(cid)
	local str = "autoloot/"
	for i = 1, #myList do
	    info = getItemInfo(getItemIdByName(myList[i]))
		if info then
			if itensAutoLoot[myList[i]] then
			   rate = itensAutoLoot[myList[i]].raridade[3]
			else
			   rate = "???"
			end
			str = str .. info.clientId .. "," .. info.name .. "," .. rate .. (i == #myList and "" or "/")
		end
	end
	return str == "autoloot/" and "" or str
end

function getAllItensAutoLoot()
local str = "autoloot/" 
	  for a, b in pairs(itensAutoLoot) do
	    info = getItemInfo(b[1])
		rate = b.raridade[3]
		str = str .. info.clientId .. "," .. info.name .. "," .. rate .. (i == #itensAutoLoot and "" or "/")
      end
	  return str
end